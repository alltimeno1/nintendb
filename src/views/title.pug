doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    meta(property="og:title" content='Nintendb')
    meta(property="og:description" content='ë‹Œí…ë„ ìŠ¤ìœ„ì¹˜ ê²Œì„ í•œëˆˆì— ë³´ê¸°')
    meta(property="og:image" content='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1ZWevkWyUNWJjAq1D7eSZk58eDunIPi4rbA&usqp=CAU')
    title Nintendb - All about Nintendo Switch
    link(rel='icon' href='../../static/img/favicon.ico' type='image/x-icon')
    link(href='/src/css/style.css' rel='stylesheet')
    link(href='/src/css/title.css' rel='stylesheet')
  body
    #nav
      a(href='/home')
        img(src='../../static/img/logo.png')
      ul
        li
          a(href='/home') í™ˆ
        li
          a#current(href='/title') ê²Œì„
        li
          a(href='/forum') ì»¤ë®¤ë‹ˆí‹°
        li
          a(href='/private') MY
        li
          a(href='/etc') ê³ ê°ì§€ì›
        li 
          select#currency
            if currency === 'dollar'
              option(value='won') ğŸ‡°ğŸ‡· ì›
              option(value='dollar' selected) ğŸ‡ºğŸ‡¸ ë‹¬ëŸ¬
            else
              option(value='won' selected) ğŸ‡°ğŸ‡· ì›
              option(value='dollar') ğŸ‡ºğŸ‡¸ ë‹¬ëŸ¬
      if status
        a.small_profile(href='/private')
          img.small_profile_img(src=profileImg style='margin-left: 250px;')
        a#login(href='/logout') ë¡œê·¸ì•„ì›ƒ
      else
        a#login(href='/login') ë¡œê·¸ì¸/íšŒì›ê°€ì…
    img#banner(src='../../static/img/banner.jpg' width='100%')
    #container
      #container2
        .filter(id=tags)
          form.checkboxes(action='/title/filter' method='get')
            .checkbox.lang
              p.checkbox_tit ëŒ€ì‘ ì–¸ì–´
              ul.clearfix
                each item in [['í•œêµ­ì–´', 'langKR'], ['ì˜ì–´', 'langUS'], ['ì¼ë³¸ì–´', 'langJP']]
                  li
                    if typeof tags === 'object' && tags.includes(item[0])
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else if typeof tags === 'string' && tags === item[0]
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else 
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1])
                    label(for=item[1])
                      span.input_box
                      = ' ' + item[0]
            .checkbox.play_type
              p.checkbox_tit í”Œë ˆì´ ì¸ì›
              ul.clearfix
                each item in [['ì‹±ê¸€', 'single'], ['ë©€í‹°', 'multi']]
                  li
                    if typeof tags === 'object' && tags.includes(item[0])
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else if typeof tags === 'string' && tags === item[0]
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else 
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1])
                    label(for=item[1])
                      span.input_box
                      = ' ' + item[0]
            .checkbox.genre
              p.checkbox_tit ì¥ë¥´
              ul.clearfix
                each item in [['RPG', 'rpg'], ['ì•¡ì…˜', 'action'], ['ì–´ë“œë²¤ì²˜', 'adventure'], ['ìŠˆíŒ…', 'shooting'], ['ì‹œë®¬ë ˆì´ì…˜', 'simulation'], ['ìŠ¤í¬ì¸ ', 'sports']]
                  li
                    if typeof tags === 'object' && tags.includes(item[0])
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else if typeof tags === 'string' && tags === item[0]
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1] checked)
                    else 
                      input.input_chk(type='checkbox' name='tags' value=item[0] id=item[1])
                    label(for=item[1])
                      span.input_box
                      = ' ' + item[0]
          li.search_box
            form(action='/title/filter' method='get')
              input(type='text' name='keyword' maxlength='225' placeholder='ê²€ìƒ‰')
        .popular
          h2 ì¸ê¸° ê²€ìƒ‰ì–´
          ol.top10
            each item in top10
              li.keyword
                a(href=`/title/${item.name}`)=item.name
        .gamelists
          ul
            each item in title
              li.gamelist.hide
                div
                  a(href=`/title/${item.name}`)
                    img.gl-img(src=item.image)
                .gl-info
                  .header
                    h2.gl-title
                      a(href=`/title/${item.name}`)=item.name
                    p.gl-date=`${new Date(item.date).toLocaleDateString('ko-KR')} ì¶œì‹œ`
                  ul.tags
                    li.tag
                      each desc in item.tag.split(', ')
                        a(href='#')=`#${desc}\n`
                  .stats
                    img(src='../static/img/metacritic.png' width='20' height='20')
                    span.rating=item.rating !== 0 ? item.rating : 'TBD'
                    if item.price === item.bargainPrice
                      if currency === 'dollar'
                        span=(item.price / exchangeRate).toLocaleString('en-US', { style: 'currency', currency: 'USD' })
                      else 
                        span=item.price.toLocaleString('ko-KR', { style: 'currency', currency: 'KRW' })
                    else
                      if currency === 'dollar'
                        span.price=(item.price / exchangeRate).toLocaleString('en-US', { style: 'currency', currency: 'USD' })
                        span=(item.bargainPrice / exchangeRate).toLocaleString('en-US', { style: 'currency', currency: 'USD' })
                      else 
                        span.price=item.price.toLocaleString('ko-KR', { style: 'currency', currency: 'KRW' })
                        span=item.bargainPrice.toLocaleString('ko-KR', { style: 'currency', currency: 'KRW' })
                      span.discount=`-${item.discountRate}%`
          button.more ë” ë³´ê¸°
    #to-top
      | ğŸ”
    script(type='module' src='/dist/utils/scroll.js')
    script(type='module' src='/dist/utils/search_title.js')
    script(type='module' src='/dist/utils/fade_in.js')
    script(type='module' src='/dist/utils/show_items.js')
    script(type='module' src='/dist/utils/change_currency.js')